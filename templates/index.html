<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PF2e_Encounter_Generator</title>
    <link rel="stylesheet" href="{{url_for('static', filename='styles.css')}}">
</head>
<body>
    <h1>Welcome to the PF2e Encounter Generator</h1>
    <p>This tool helps you create encounters for Pathfinder 2nd Edition.</p>
    
    <!-- Form to generate an encounter (POST request) -->
    <form method="post" action="/">
        <label>Party Size (1â€“8):
            <input type="number" name="party_size" min="1" max="8" required>
        </label><br><br>

        <label>Party Level:
            <input type="number" name="party_level" min="1" max="160" required>
        </label><br><br>

        <label>Difficulty:
            <select name="difficulty" required>
                <option value="trivial">Trivial</option>
                <option value="low">Low</option>
                <option value="moderate">Moderate</option>
                <option value="severe">Severe</option>
                <option value="extreme">Extreme</option>
            </select>
        </label><br><br>

        <input type="submit" value="Generate Encounter">
    </form>
    {% if error %}
        <p style="color: red;"><strong>Error:</strong> {{ error }}</p>
    {% endif %}

    <!-- check if "encounter" exists, if so render to page-->
    {% if encounter %}
        <h2>Generated Encounter</h2>
        <ul>
            {% for enemy in encounter %}
                <li><strong>{{ enemy.name }}</strong> (Level {{ enemy.level }}) - {{ enemy.traits }}</li>
            {% endfor %}
        </ul>
    {% endif %}


    <!-- Display table of monsters generated-->
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Level</th>
            </tr>
        </thead>
        <tbody>
            {% for monster in monsters %}
            <tr>
                <td>{{ monster[0] }}</td>
                <td>{{ monster[1] }}</td>
                <td>{{ monster[2] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    

    
</body>
</html>
